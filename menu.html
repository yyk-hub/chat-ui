<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Menu - Shuang Hor</title>
<style>
  /* === KEEP your original visual theme ===
     I preserved your header, dropdown, sections, colors and layout.
     Only added a few rules for product thumbnails, fade transition and highlight. */

  body {
    font-family: Segoe UI, Arial, sans-serif;
    margin: 0;
    background: #faf3e0;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    /* initial hidden for fade-in */
    opacity: 0;
    transition: opacity 320ms ease;
  }

  /* Header (unchanged) */
  .header {
    position: sticky;
    top: 0;
    background: #f4ecd6;
    z-index: 1000;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 12px 0;
    border-bottom: 2px solid #d1c4a1;
  }

  .home-btn {
    position: absolute;
    left: 20px;
    background: #996600;
    color: white;
    border: none;
    padding: 6px 14px;
    border-radius: 8px;
    cursor: pointer;
    text-decoration: none;
    font-size: 14px;
  }

  .header h2 {
    margin: 0;
    font-size: 18px;
    color: #996600;
  }

  /* Gold glass dropdown (unchanged) */
  .menu-dropdown {
    position: absolute;
    right: 20px;
  }

  .menu-icon {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #b8860b;
    transition: all 0.3s ease;
  }
  .menu-icon:hover { color: #d4af37; transform: scale(1.1); }

  .dropdown-content {
    display: none;
    position: absolute;
    right: 0;
    background: rgba(255,250,240,0.75);
    backdrop-filter: blur(8px) saturate(180%);
    -webkit-backdrop-filter: blur(8px) saturate(180%);
    border-radius: 16px;
    min-width: 190px;
    border: 1px solid rgba(255,215,0,0.4);
    box-shadow: 0 6px 20px rgba(184,134,11,0.35), 0 0 12px rgba(255,215,0,0.2);
    z-index: 999;
    overflow: hidden;
    animation: fadeIn 0.25s ease;
  }
  .dropdown-content a { color:#4a3b1b; padding:10px 16px; text-decoration:none; display:block; font-size:15px; background-color: rgba(255,255,255,0.35); border-bottom:1px solid rgba(218,165,32,0.15); transition: all 0.25s;}
  .dropdown-content a:hover { background-color: rgba(255,240,210,0.55); color:#8b6508; transform: translateX(4px); }
  .dropdown-content.show { display:block; opacity:1; transform: translateY(0); }

  @keyframes fadeIn { from { opacity:0; transform:translateY(-8px) } to { opacity:1; transform:translateY(0) } }

  @media (max-width:480px) {
    .dropdown-content { right:10px; min-width:160px; }
    .menu-icon { font-size:22px; }
  }

  /* Main content wrapper (unchanged) */
  .container {
    max-width: 850px;
    margin: auto;
    padding: 20px;
  }

  section {
    background: #ffffff;
    padding: 16px;
    border-radius: 12px;
    margin-bottom: 20px;
  }

  section h3 {
    color: #996600;
    font-size: 18px;
    margin-top: 0;
  }

  p {
    font-size: 15px;
    line-height: 1.5;
    color: #333;
  }

  ul { padding-left: 20px; }

  .testimonial {
    background: #fff9f0;
    padding: 14px;
    border-left: 4px solid #14b47e;
    border-radius: 8px;
    margin: 10px 0;
  }
  .testimonial strong { color: #996600; }

  /* WhatsApp Button (unchanged) */
  .whatsapp-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    background: #22aa5a;
    color: white;
    border: none;
    border-radius: 10px;
    padding: 8px 14px;
    text-decoration: none;
    font-size: 15px;
    margin: 20px auto;
    width: fit-content;
  }
  .whatsapp-btn svg { width:28px; height:28px; }

  footer {
    text-align: center;
    font-size: 14px;
    color: #666;
    margin-top: 20px;
  }

  /* === Featured Products (UPDATED) ===
     Small thumbnail left, details on the right.
     Important: long description paragraphs remain exactly as they are below.
  */
  .featured-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .featured-item {
    display:flex;
    gap:14px;
    align-items:flex-start;
    background:#fffdf8;
    border:1px solid #e0d5bb;
    padding:12px;
    border-radius:12px;
  }

  .featured-thumb {
    width: 90px;         /* small thumbnail size */
    height: 90px;
    object-fit: cover;
    border-radius: 10px;
    flex-shrink: 0;
    border: 1px solid #ddd;
    background: #fff;
  }

  .featured-meta { flex:1; }

  .featured-meta h4 {
    margin:0 0 6px 0;
    color: #996600;
    font-size: 15px;
  }

  .featured-meta .price {
    font-weight:700;
    color:#14b47e;
    margin-bottom:6px;
  }

  .view-shop-link {
    display:inline-block;
    margin-top:8px;
    color:#996600;
    text-decoration:none;
    font-size:14px;
  }

  /* highlight when navigated */
  .highlight {
    animation: highlightFade 1.6s ease-out;
  }
  @keyframes highlightFade {
    from { background-color:#fff6d5; }
    to { background-color: transparent; }
  }

  /* Fade-out class for navigation */
  .fade-out {
    opacity: 0 !important;
    transition: opacity 320ms ease;
  }

  /* Responsive: stack on small screens */
  @media (max-width:640px) {
    .featured-item { flex-direction: column; align-items:center; text-align:center; }
    .featured-thumb { width:100%; height:auto; max-height:220px; }
  }
</style>
</head>
<body>

  <div class="header">
    <a href="index.html" class="home-btn">üè† Home</a>
    <h2>üìã Menu</h2>

    <!-- ‚ú® Gold 3-line dropdown -->
    <div class="menu-dropdown">
      <button class="menu-icon" id="menuToggle" title="Menu">&#9776;</button>
      <div class="dropdown-content" id="dropdownMenu">
        <a href="order.html">üßæ Order History</a>
        <a href="shop.html">üõçÔ∏è Shop</a>
        <a href="admin.html">üîê Admin Panel</a>
        <a href="index.html">üè† Home</a>
      </div>
    </div>
  </div>

<div class="container">

  <section>
    <h3>About Shuang Hor</h3>
    <p>Shuang Hor is a trusted wellness brand offering a range of products promoting health, beauty, and quality of life. 
       With over three decades of innovation, Shuang Hor has combined traditional herbal wisdom with modern biotechnology 
       to produce effective and natural health supplements.</p>
  </section>

  <section>
    <h3>Featured Products</h3>

    <!-- KEEP your long descriptions exactly as they were (manual content).
         Each featured-item has data-prod matching D1.prod_id. JS will fill name/price/image.
         Do NOT edit these <p> texts if you want them preserved. -->

    <div class="featured-list" id="featuredList">

      <div class="featured-item" data-prod="berry">
        <img class="featured-thumb" src="" alt="Lacto-Berry">
        <div class="featured-meta">
          <h4><!-- name auto-filled --></h4>
          <div class="price"><!-- price auto-filled --></div>
          <p>Major constituents: Bifidobacterium Lactis, Bifidobacterium Longum, Cranberry Powder, Raspberry Powder, Blueberry Powder and Isomalt. A natural anti-ageing food supplement that helps remove free radicals and promote the elimination of our metabolic wastes.</p>
          <a class="view-shop-link" href="shop.html#berry">üõç View in Shop</a>
        </div>
      </div>

      <div class="featured-item" data-prod="cleaner">
        <img class="featured-thumb" src="" alt="GoEco All-Purpose Cleaner">
        <div class="featured-meta">
          <h4></h4>
          <div class="price"></div>
          <p>GoEco All-Purpose Cleaner ‚Äî eco-friendly cleaner suitable for multiple surfaces, formulated for effective cleaning with reduced environmental impact.</p>
          <a class="view-shop-link" href="shop.html#cleaner">üõç View in Shop</a>
        </div>
      </div>

      <div class="featured-item" data-prod="coffee_ns">
        <img class="featured-thumb" src="" alt="CEO Coffee (3 in 1)">
        <div class="featured-meta">
          <h4></h4>
          <div class="price"></div>
          <p>Premium coffee mix available in a 3-in-1 formulation (no sugar variant) for a cleaner, less sweet profile while preserving aroma and Ganoderma benefits.</p>
          <a class="view-shop-link" href="shop.html#coffee_ns">üõç View in Shop</a>
        </div>
      </div>

      <div class="featured-item" data-prod="coffee_s">
        <img class="featured-thumb" src="" alt="CEO Coffee (4 in 1)">
        <div class="featured-meta">
          <h4></h4>
          <div class="price"></div>
          <p>Major constituents: Non-dairy creamer, prime coffee beans and Yung Kien Ganoderma. Free from any flavouring essence or preservatives. Formulated using only prime coffee beans, freshly brewed for its premium taste, and enhanced with Yung Kien Ganoderma to blend the bitter taste of Ganoderma with the unique bitterness of coffee.Premixed with sugar or sugar-free beverage.</p>
          <a class="view-shop-link" href="shop.html#coffee_s">üõç View in Shop</a>
        </div>
      </div>

      <div class="featured-item" data-prod="lingzhi">
        <img class="featured-thumb" src="" alt="Yung Kien Ganoderma">
        <div class="featured-meta">
          <h4></h4>
          <div class="price"></div>
          <p>Ganoderma traditionally used for general health. It helps fortify the immune defence, speed up metabolic rates, consolidate the physical constitutions and enhance metabolic functions of the liver, hence contributing to preserving optimal health through its long-term consumption.</p>
          <a class="view-shop-link" href="shop.html#lingzhi">üõç View in Shop</a>
        </div>
      </div>

      <div class="featured-item" data-prod="tea">
        <img class="featured-thumb" src="" alt="Lu Chun Tea">
        <div class="featured-meta">
          <h4></h4>
          <div class="price"></div>
          <p>Major constituents: Contains Camellia Sinesis, Brown Rice, Cassia Seed and Ganoderma Lucidum Extract.Tea which is made up of four types of ingredients that are rich in flavour, can be beneficial for health, and it is suitable to be consumed by everyone.</p>
          <a class="view-shop-link" href="shop.html#tea">üõç View in Shop</a>
        </div>
      </div>

      <div class="featured-item" data-prod="toothpaste">
        <img class="featured-thumb" src="" alt="Greenzhi Toothgel">
        <div class="featured-meta">
          <h4></h4>
          <div class="price"></div>
          <p>Constituents: Nano-Ganoderma Lucidum, Miswak Extract, Neem Extract, Aloe Barbadensis, Xylitol and Chlorophyllin. Natural menthol or peppermint is added to keep the mouth cavity fresh without introducing any irritation, making it a perfect choice for all your family members, young and old alike.</p>
          <a class="view-shop-link" href="shop.html#toothpaste">üõç View in Shop</a>
        </div>
      </div>

      <div class="featured-item" data-prod="vitaking2">
        <img class="featured-thumb" src="" alt="VitaKing2">
        <div class="featured-meta">
          <h4></h4>
          <div class="price"></div>
          <p>VitaKing2 ‚Äî essential multivitamin support with high-quality ingredients for daily health support.</p>
          <a class="view-shop-link" href="shop.html#vitaking2">üõç View in Shop</a>
        </div>
      </div>

    </div>
  </section>

  <section>
    <h3>How to Join Membership</h3>
    <p>Join Shuang Hor as a member to enjoy exclusive prices, promotions, and rewards. 
       Members can purchase directly, share products, and earn income.</p>
    <ul>
      <li>Step 1: Contact our representative via WhatsApp.</li>
      <li>Step 2: Fill out a simple registration form.</li>
      <li>Step 3: Start enjoying member benefits immediately!</li>
    </ul>
  </section>

  <section>
    <h3>User Menu & Guide</h3>
    <ul>
      <li>Chat : Start messaging Chatbot Assistant. Contact us via WhatsApp for support.</li>
      <li>Menu : Read introduction, featured products, user menu, payment methods and testimonials.</li>
      <li>Shop : Explore and view products.</li>
      <li>Cart : Buy now, add products to Cart.</li>
      <li>Checkout : Enter name, delivery address and make payment.</li>
      <li>Delivery : Parcel send via Pos Laju with 3 working days delivery.<p>Self-pickup at Shuang Hor's branch, Kota Kinabalu is free with no extra charge (excluding pre-order products).</p></li>
    </ul>
  </section>

  <section>
    <h3>Payment Methods</h3>
    <p>Make payment conveniently via:</p>
    <ul>
      <li><strong>Bank QR:</strong> Scan our official bank QR to complete payment securely.</li><br>
      <li><strong>Touch ‚Äôn Go (TNG):</strong> Pay using your TNG eWallet with instant confirmation.</li>
    </ul>
    <p>Payment details and QR codes will be displayed during checkout.</p>
  </section>

  <section>
    <h3>Testimonials</h3>
    <div class="testimonial"><strong>Mary (KL):</strong> ‚ÄúCEO Coffee gives me energy every morning. Love the smooth taste!‚Äù</div>
    <div class="testimonial"><strong>Jason (Penang):</strong> ‚ÄúLacto Berry improved my digestion. Highly recommended!‚Äù</div>
    <div class="testimonial"><strong>Mei Ling (Johor):</strong> ‚ÄúThe Lingzhi Capsules help me sleep better and stay active.‚Äùdiv>
    <div class="testimonial"><strong>Ahmad (Selangor):</strong> ‚ÄúGreenzhi Toothgel keeps my mouth fresh naturally.‚Äùdiv>
    <div class="testimonial"><strong>Tan (Ipoh):</strong> ‚ÄúGreat service and fast delivery via the online shop.‚Äùdiv>
  </section>

  <!-- WhatsApp -->
  <a href="https://wa.me/60168101358?text=Hello%2C%20I%20am%20contacting%20you%20from%20Customer%20Service%20Chat" 
     target="_blank" class="whatsapp-btn">
     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
       <path fill="#25D366" d="M24 4C13 4 4 13 4 24c0 4.3 1.2 8.2 3.4 11.6L4 44l8.8-2.9C16 43.6 19.9 45 24 45c11 0 20-9 20-20S35 4 24 4z"/>
       <path fill="none" stroke="#fff" stroke-width="2" d="M24 4C13 4 4 13 4 24c0 4.3 1.2 8.2 3.4 11.6L4 44l8.8-2.9C16 43.6 19.9 45 24 45c11 0 20-9 20-20S35 4 24 4z"/>
       <path fill="#fff" d="M31 27.5c-.4-.2-2.3-1.1-2.6-1.2-.3-.1-.6-.2-.9.2s-1 1.2-1.3 1.5c-.2.2-.4.3-.8.1-.4-.2-1.6-.6-3-1.9-1.1-1-1.9-2.2-2.1-2.5-.2-.3 0-.6.2-.8.2-.2.5-.5.7-.8.2-.3.3-.5.5-.8.1-.3 0-.5 0-.7 0-.2-.9-2.2-1.3-3-.3-.8-.7-.7-1-.7h-.8c-.3 0-.8.1-1.2.6s-1.6 1.5-1.6 3.6 1.6 4.1 1.9 4.4c.2.3 3.2 5 7.8 6.9 3.9 1.6 4.7 1.2 5.6 1.1.9-.1 2.3-1 2.6-1.9.3-.9.3-1.6.2-1.9-.1-.3-.3-.4-.7-.6z"/>
     </svg>
     <span>WhatsApp</span>
  </a>

  <footer>
    ¬© 2025 Shuang Hor | Wellness & Innovation
  </footer>

</div>

<script>
/* === Dropdown behavior (keeps your existing behavior) === */
const menuToggle = document.getElementById("menuToggle");
const dropdownMenu = document.getElementById("dropdownMenu");
menuToggle.addEventListener("click", (e) => {
  e.stopPropagation();
  dropdownMenu.classList.toggle("show");
});
window.addEventListener("click", (e) => {
  if (!dropdownMenu.contains(e.target) && !menuToggle.contains(e.target)) {
    dropdownMenu.classList.remove("show");
  }
});

/* === Fade-in on load (for smooth page appearance) === */
window.addEventListener('load', () => {
  // fade in body
  document.body.style.opacity = '1';
});

/* === Intercept clicks to shop links to apply fade-out before navigation === */
document.addEventListener('click', (e) => {
  const a = e.target.closest('a');
  if (!a) return;
  // only intercept links that go to shop.html#prod_id
  if (a.href && a.href.includes('shop.html#')) {
    e.preventDefault();
    const url = a.href;
    document.body.classList.add('fade-out');
    // allow the fade to render
    setTimeout(() => { window.location.href = url; }, 320);
  }
});

/* === Product syncing from D1 (/api/products) ===
   - Only fills prod_name, price and image_url for items that have data-prod attribute.
   - Leaves the long <p> descriptions exactly as they are in HTML.
*/
const API = 'https://chat-ui-30l.pages.dev/api/products';
const allowedProdIds = ['berry','cleaner','coffee_ns','coffee_s','lingzhi','tea','toothpaste','vitaking2'];

async function syncFeatured() {
  try {
    const res = await fetch(API);
    if (!res.ok) throw new Error('Products fetch failed');
    const items = await res.json();
    // make a map by prod_id
    const map = {};
    items.forEach(it => { map[it.prod_id] = it; });

    // find all featured items
    const featured = document.querySelectorAll('.featured-item');
    featured.forEach(el => {
      const pid = el.getAttribute('data-prod');
      if (!pid) return;
      // only attempt for allowed list to avoid accidental items
      if (!allowedProdIds.includes(pid)) return;
      const data = map[pid];
      const img = el.querySelector('.featured-thumb');
      const title = el.querySelector('h4');
      const price = el.querySelector('.price');

      if (data) {
        if (data.image_url) img.src = data.image_url;
        else img.src = img.src || 'https://via.placeholder.com/90';
        if (data.prod_name) title.textContent = data.prod_name;
        if (data.price !== undefined) price.textContent = 'RM ' + parseFloat(data.price).toFixed(2);
      } else {
        // product not returned from API (maybe out of DB) ‚Äî keep placeholders
        img.src = img.src || 'https://via.placeholder.com/90';
        title.textContent = title.textContent || pid;
        price.textContent = price.textContent || '';
      }
    });

    // If navigated from shop or external with hash, highlight
    const hash = window.location.hash.replace('#','');
    if (hash) {
      const target = document.querySelector(`.featured-item[data-prod="${hash}"]`);
      if (target) {
        // scroll and highlight
        setTimeout(() => {
          target.scrollIntoView({ behavior: 'smooth', block: 'center' });
          target.classList.add('highlight');
          setTimeout(()=> target.classList.remove('highlight'), 1600);
        }, 150);
      }
    }

  } catch (err) {
    console.error('Failed to sync featured products:', err);
  }
}

/* Run on DOM ready */
document.addEventListener('DOMContentLoaded', () => {
  // ensure body visible if load fired earlier
  document.body.style.opacity = '1';
  syncFeatured();
});
</script>
</body>
    </html>
